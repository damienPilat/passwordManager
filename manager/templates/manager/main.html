{% extends 'manager/base.html' %}               {# Extend from base template #}
{% block title %}Homepage{% endblock title %}   {# Update Page Title #}
{% load static %}                               {#  Access static files #}

{#  Main Page Content  #}
{% block content %}
    {#  Check if Passwords stored  #}
    {% if all_passwords %}
        {#  Loop through all Passwords in DB  #}
        {% for password in all_passwords %}

        <!--  Main Div  -->
        <div class="d-flex" id="mainPage-mainDiv">

            {#  COLUMN One  #}<!--  Software Icon Placeholder  -->
            <div class="d-flex flex-column">
                <a href="#"><img src="{% static '/icons/shield-lock.svg' %}" alt="Default Software Logo" style="width:3em; height:3em;"></a>
            </div>{# END: Software Icon Placeholder #}


            {#  COLUMN Two  #}<!--  Software Name, password, Clipboard  -->
            <div class="d-flex flex-column" id="softwareDetails">
                {#  ROW One  #}{#  Software Name  #}
                <div class="d-flex flex-row"><h4>{{ password.software_name }}</h4></div>

                {#  ROW Two  #}<!--  Pwd placeholder, toggle visible & copy to clipboard  -->
                <div class="d-flex flex-row">
                    <!--  Pwd placeholder & show pwd  -->
                    <div class="input-group input-group-sm">
                        {# ReadOnly pwd input #}
                        <input type="text" id="pwd-read" value="*********" readonly>
                        {# Appended 'toggle pwd' icon #}
                        <div class="input-group-append">
                            <a href="#"><img src="{% static '/icons/eye.svg' %}" alt="Toggle Password Visible"></a>
                        </div>
                    </div><!--  END: Pwd placeholder & show pwd  -->
                    <!--  Copy pwd to Clipboard  -->
                    <div id="clipboard">
                        <a href="#"><img src="{% static '/icons/clipboard.svg' %}" alt="Copy password to clipboard Icon"></a>
                    </div>
                </div>{#  END: Row Two  #}
            </div>{# END: COLUMN Two #}


            {# COLUMN Three #}<!-- Link to website, edit data  -->
            <div class="d-flex flex-column">
                <div class="d-flex flex-row">
                    {#  Link to Software Icon #}
                    <div style="padding-left: 20px">
                        <a href="{{ password.website_link }}" target="_blank">
                            <img src="{% static '/icons/link-45deg.svg' %}" alt="Link to Software Website" style="width:1.5em; height: 1.5em">
                        </a>
                    </div>

                    {#  Edit Data Icon #}
                    <div style="padding-left: 10px">
                        <a href="#"><img src="{% static '/icons/pencil.svg' %}" alt="Edit Software data"></a>
                    </div>
                </div>

            </div>{# END: COLUMN Three #}

        </div><!--  END: Main Div  -->
        {% endfor %}

    {% else %}
        <p>No passwords currently stored</p>
    {% endif %}


    <!--  Get pwd and copy to clipboard  -->
    <script>
        // Event Listener on clipboard span
        document.querySelector('span#clipboard').addEventListener('click', function(){
            copyToClipboard();
        });

        function copyToClipboard(){
            let current_pwd;
        }
    </script>
{% endblock content %}


